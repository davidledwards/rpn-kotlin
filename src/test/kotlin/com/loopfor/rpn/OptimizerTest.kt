/*
 * Copyright 2019 David Edwards
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package com.loopfor.rpn

import org.junit.jupiter.api.Assertions.*
import org.junit.jupiter.api.Test

class OptimizerTest {
    // This error value is necessary to test equivalence because of inaccuracy of floating point operations.
    private val Epsilon = 0.0000000001

    @Test
    fun `optimizations`() {
        for ((result, unopt) in tests) {
            try {
                val r = Evaluator.create(Optimizer.create(unopt).asSequence()) { Tools.hash(it) }
                assert(r > (result - Epsilon) && r < (result + Epsilon))
            } catch (e: Exception) {
                fail<Unit>(e.message)
            }
        }
    }

    /**
     * Randomly generated by [Tools.optimizerTests].
     */
    private val tests = listOf<Pair<Double, List<Code>>>(
        Pair(1.1269510417157242,
            listOf(
                DeclareSymbolCode("Gb"),
                DeclareSymbolCode("Gt"),
                DeclareSymbolCode("Nv"),
                DeclareSymbolCode("Pg"),
                DeclareSymbolCode("To"),
                DeclareSymbolCode("gC"),
                DeclareSymbolCode("gJ"),
                DeclareSymbolCode("mZ"),
                DeclareSymbolCode("nh"),
                DeclareSymbolCode("pJ"),
                DeclareSymbolCode("ve"),
                DeclareSymbolCode("vu"),
                PushCode(0.96),
                PushCode(0.84),
                PushCode(0.35),
                PushSymbolCode("mZ"),
                PushSymbolCode("To"),
                PushCode(0.24),
                MultiplyCode(2),
                MaxCode(2),
                PushSymbolCode("nh"),
                PushCode(0.02),
                MinCode(2),
                DivideCode(2),
                SubtractCode(2),
                MaxCode(2),
                PushCode(0.94),
                PowerCode(),
                PushCode(0.99),
                ModuloCode(),
                PushSymbolCode("Gb"),
                PushCode(0.56),
                PushCode(0.85),
                PushCode(0.08),
                MaxCode(2),
                PushSymbolCode("gC"),
                AddCode(2),
                PushSymbolCode("pJ"),
                PushSymbolCode("Pg"),
                PushSymbolCode("Nv"),
                PushSymbolCode("Gt"),
                MinCode(2),
                ModuloCode(),
                PushCode(0.31),
                ModuloCode(),
                PushCode(0.02),
                SubtractCode(2),
                PushCode(0.63),
                SubtractCode(2),
                MaxCode(2),
                MultiplyCode(2),
                PowerCode(),
                PushSymbolCode("vu"),
                MinCode(2),
                ModuloCode(),
                ModuloCode(),
                PushCode(0.58),
                DivideCode(2),
                PushCode(0.31),
                MultiplyCode(2),
                SubtractCode(2),
                PushSymbolCode("ve"),
                PushCode(0.04),
                SubtractCode(2),
                PushCode(0.31),
                SubtractCode(2),
                PushCode(0.3),
                AddCode(2),
                PushSymbolCode("gJ"),
                ModuloCode(),
                AddCode(2))),
        Pair(0.07684022524562162,
            listOf(
                DeclareSymbolCode("CO"),
                DeclareSymbolCode("JY"),
                DeclareSymbolCode("xc"),
                DeclareSymbolCode("zv"),
                PushCode(0.6),
                PushCode(0.18),
                PushCode(0.25),
                PushSymbolCode("CO"),
                PushSymbolCode("JY"),
                PushCode(0.89),
                PowerCode(),
                SubtractCode(2),
                MaxCode(2),
                PushCode(0.85),
                ModuloCode(),
                MaxCode(2),
                PushCode(0.27),
                PushSymbolCode("xc"),
                MinCode(2),
                PushCode(0.79),
                DivideCode(2),
                ModuloCode(),
                PowerCode(),
                PushCode(0.36),
                MultiplyCode(2),
                PushSymbolCode("zv"),
                SubtractCode(2))),
        Pair(0.31,
            listOf(
                DeclareSymbolCode("Ba"),
                DeclareSymbolCode("FD"),
                DeclareSymbolCode("LS"),
                DeclareSymbolCode("Us"),
                DeclareSymbolCode("Vp"),
                DeclareSymbolCode("Wr"),
                DeclareSymbolCode("iQ"),
                DeclareSymbolCode("kI"),
                DeclareSymbolCode("mb"),
                DeclareSymbolCode("xU"),
                DeclareSymbolCode("zE"),
                PushCode(0.31),
                PushCode(0.1),
                MaxCode(2),
                PushSymbolCode("FD"),
                PushSymbolCode("Wr"),
                PushSymbolCode("mb"),
                MaxCode(2),
                PushCode(0.08),
                DivideCode(2),
                PushSymbolCode("Us"),
                MultiplyCode(2),
                PushCode(0.31),
                PushCode(0.32),
                MinCode(2),
                PushCode(0.25),
                ModuloCode(),
                PushCode(0.89),
                ModuloCode(),
                PushSymbolCode("Ba"),
                PushCode(0.45),
                PushSymbolCode("kI"),
                MaxCode(2),
                PushSymbolCode("iQ"),
                MinCode(2),
                MultiplyCode(2),
                PushSymbolCode("LS"),
                PushCode(0.27),
                ModuloCode(),
                PushSymbolCode("zE"),
                PushSymbolCode("xU"),
                MinCode(2),
                MultiplyCode(2),
                MinCode(2),
                AddCode(2),
                MinCode(2),
                DivideCode(2),
                PushSymbolCode("Vp"),
                AddCode(2),
                MinCode(2))),
        Pair(-0.236,
            listOf(
                DeclareSymbolCode("iE"),
                PushCode(0.36),
                PushCode(0.3),
                PushSymbolCode("iE"),
                ModuloCode(),
                SubtractCode(2),
                PushCode(0.47),
                SubtractCode(2))),
        Pair(0.0189229227,
            listOf(
                DeclareSymbolCode("Jx"),
                DeclareSymbolCode("MW"),
                DeclareSymbolCode("dW"),
                DeclareSymbolCode("zs"),
                PushCode(0.57),
                PushCode(0.41),
                MultiplyCode(2),
                PushSymbolCode("dW"),
                PushSymbolCode("Jx"),
                PushCode(0.67),
                MaxCode(2),
                PushSymbolCode("zs"),
                SubtractCode(2),
                MultiplyCode(2),
                PushSymbolCode("MW"),
                MinCode(2),
                MultiplyCode(2))),
        Pair(0.2885,
            listOf(
                PushCode(0.51),
                PushCode(0.35),
                MultiplyCode(2),
                PushCode(0.11),
                AddCode(2))),
        Pair(0.17099999999999999,
            listOf(
                DeclareSymbolCode("Dm"),
                PushSymbolCode("Dm"),
                PushCode(0.6),
                PushCode(0.01),
                MultiplyCode(2),
                SubtractCode(2))),
        Pair(0.0623364928909953,
            listOf(
                DeclareSymbolCode("ND"),
                DeclareSymbolCode("YF"),
                DeclareSymbolCode("aV"),
                DeclareSymbolCode("do"),
                DeclareSymbolCode("gy"),
                DeclareSymbolCode("kX"),
                DeclareSymbolCode("oJ"),
                DeclareSymbolCode("vg"),
                DeclareSymbolCode("wA"),
                PushSymbolCode("oJ"),
                PushSymbolCode("gy"),
                PushSymbolCode("do"),
                PushCode(0.91),
                PushSymbolCode("kX"),
                PushCode(0.12),
                PushSymbolCode("ND"),
                MaxCode(2),
                PushCode(0.83),
                PushCode(0.33),
                SubtractCode(2),
                MultiplyCode(2),
                PushCode(0.38),
                AddCode(2),
                MultiplyCode(2),
                SubtractCode(2),
                PushSymbolCode("wA"),
                MinCode(2),
                DivideCode(2),
                DivideCode(2),
                AddCode(2),
                PushCode(0.92),
                MinCode(2),
                PushSymbolCode("YF"),
                ModuloCode(),
                PushSymbolCode("aV"),
                PushSymbolCode("vg"),
                MinCode(2),
                PushCode(0.04),
                MaxCode(2),
                ModuloCode())),
        Pair(0.15,
            listOf(
                DeclareSymbolCode("FP"),
                PushSymbolCode("FP"))),
        Pair(3.175693073555918,
            listOf(
                DeclareSymbolCode("Rm"),
                PushCode(0.37),
                PushSymbolCode("Rm"),
                DivideCode(2),
                PushCode(0.61),
                DivideCode(2))),
        Pair(-2.8560193335121036,
            listOf(
                DeclareSymbolCode("DU"),
                DeclareSymbolCode("Dt"),
                DeclareSymbolCode("Hx"),
                DeclareSymbolCode("Iz"),
                DeclareSymbolCode("Kn"),
                DeclareSymbolCode("LN"),
                DeclareSymbolCode("Mc"),
                DeclareSymbolCode("NK"),
                DeclareSymbolCode("Ph"),
                DeclareSymbolCode("Rc"),
                DeclareSymbolCode("Su"),
                DeclareSymbolCode("bR"),
                DeclareSymbolCode("bs"),
                DeclareSymbolCode("cW"),
                DeclareSymbolCode("dO"),
                DeclareSymbolCode("hD"),
                DeclareSymbolCode("lw"),
                DeclareSymbolCode("tB"),
                DeclareSymbolCode("xV"),
                DeclareSymbolCode("xy"),
                PushSymbolCode("lw"),
                PushCode(0.03),
                PushCode(0.85),
                PushCode(0.32),
                ModuloCode(),
                PushCode(0.19),
                PushCode(1.0),
                MaxCode(2),
                ModuloCode(),
                DivideCode(2),
                PushSymbolCode("hD"),
                PushSymbolCode("Rc"),
                PushSymbolCode("NK"),
                PushSymbolCode("tB"),
                DivideCode(2),
                PushCode(0.72),
                PushCode(0.26),
                AddCode(2),
                PushSymbolCode("cW"),
                PushCode(0.92),
                PushSymbolCode("dO"),
                MaxCode(2),
                PushCode(0.39),
                DivideCode(2),
                PushSymbolCode("Hx"),
                SubtractCode(2),
                PushCode(0.2),
                PushSymbolCode("Su"),
                PowerCode(),
                PushSymbolCode("Iz"),
                MultiplyCode(2),
                PushSymbolCode("bs"),
                MaxCode(2),
                SubtractCode(2),
                PushSymbolCode("DU"),
                MinCode(2),
                PushCode(0.09),
                PushCode(0.39),
                AddCode(2),
                PushSymbolCode("Ph"),
                SubtractCode(2),
                ModuloCode(),
                PushSymbolCode("Mc"),
                PushCode(0.88),
                MinCode(2),
                PushSymbolCode("LN"),
                ModuloCode(),
                ModuloCode(),
                PushCode(0.39),
                ModuloCode(),
                PushSymbolCode("xV"),
                MultiplyCode(2),
                MinCode(2),
                DivideCode(2),
                PushSymbolCode("Dt"),
                DivideCode(2),
                PushCode(0.06),
                MaxCode(2),
                ModuloCode(),
                MultiplyCode(2),
                PushSymbolCode("Kn"),
                DivideCode(2),
                PushSymbolCode("bR"),
                MultiplyCode(2),
                PushSymbolCode("xy"),
                MultiplyCode(2),
                MinCode(2),
                PushCode(0.77),
                DivideCode(2),
                DivideCode(2),
                SubtractCode(2))),
        Pair(0.01,
            listOf(
                DeclareSymbolCode("Dx"),
                DeclareSymbolCode("Zy"),
                DeclareSymbolCode("hh"),
                DeclareSymbolCode("wY"),
                DeclareSymbolCode("yr"),
                DeclareSymbolCode("ze"),
                PushCode(0.77),
                PushCode(0.33),
                PushSymbolCode("wY"),
                DivideCode(2),
                PushCode(0.32),
                PushSymbolCode("ze"),
                PowerCode(),
                AddCode(2),
                PushSymbolCode("Zy"),
                MaxCode(2),
                PushSymbolCode("yr"),
                ModuloCode(),
                ModuloCode(),
                PushSymbolCode("Dx"),
                PowerCode(),
                PushSymbolCode("hh"),
                MinCode(2),
                PushCode(0.01),
                MinCode(2),
                PushCode(0.38),
                ModuloCode())),
        Pair(0.144,
            listOf(
                DeclareSymbolCode("FJ"),
                PushSymbolCode("FJ"))),
        Pair(2.9127712803006003,
            listOf(
                DeclareSymbolCode("CB"),
                DeclareSymbolCode("GA"),
                DeclareSymbolCode("Hy"),
                DeclareSymbolCode("Ix"),
                DeclareSymbolCode("Nd"),
                DeclareSymbolCode("Ow"),
                DeclareSymbolCode("RW"),
                DeclareSymbolCode("St"),
                DeclareSymbolCode("TD"),
                DeclareSymbolCode("VI"),
                DeclareSymbolCode("Wb"),
                DeclareSymbolCode("Wv"),
                DeclareSymbolCode("XI"),
                DeclareSymbolCode("aC"),
                DeclareSymbolCode("bj"),
                DeclareSymbolCode("cr"),
                DeclareSymbolCode("eE"),
                DeclareSymbolCode("ed"),
                DeclareSymbolCode("kr"),
                DeclareSymbolCode("lC"),
                DeclareSymbolCode("qY"),
                DeclareSymbolCode("uB"),
                DeclareSymbolCode("xu"),
                PushSymbolCode("CB"),
                PushSymbolCode("ed"),
                PushCode(0.02),
                MaxCode(2),
                MultiplyCode(2),
                PushSymbolCode("Hy"),
                PushCode(0.8),
                MaxCode(2),
                PushCode(0.83),
                PushCode(0.95),
                MinCode(2),
                PushCode(0.94),
                ModuloCode(),
                PushSymbolCode("VI"),
                PushSymbolCode("Wb"),
                PushCode(0.75),
                PushCode(0.59),
                PushSymbolCode("GA"),
                MinCode(2),
                PushSymbolCode("lC"),
                ModuloCode(),
                PushCode(0.39),
                PushCode(0.58),
                PushCode(0.6),
                PushSymbolCode("cr"),
                MinCode(2),
                MultiplyCode(2),
                PushSymbolCode("Wv"),
                ModuloCode(),
                PowerCode(),
                PushSymbolCode("XI"),
                ModuloCode(),
                AddCode(2),
                MaxCode(2),
                MultiplyCode(2),
                PushSymbolCode("qY"),
                PowerCode(),
                PowerCode(),
                SubtractCode(2),
                MaxCode(2),
                PushCode(0.08),
                PowerCode(),
                PushSymbolCode("Ix"),
                PushCode(0.88),
                PowerCode(),
                PushCode(0.0),
                PowerCode(),
                PushCode(0.74),
                PushCode(0.07),
                PushSymbolCode("kr"),
                PowerCode(),
                PushCode(0.56),
                ModuloCode(),
                PushSymbolCode("St"),
                ModuloCode(),
                SubtractCode(2),
                PushSymbolCode("Nd"),
                AddCode(2),
                PushSymbolCode("Ow"),
                MinCode(2),
                PushCode(0.96),
                DivideCode(2),
                PushSymbolCode("aC"),
                PushCode(0.39),
                PowerCode(),
                PushSymbolCode("RW"),
                DivideCode(2),
                MinCode(2),
                PushSymbolCode("xu"),
                MinCode(2),
                PowerCode(),
                PushSymbolCode("eE"),
                PushSymbolCode("TD"),
                PushCode(0.44),
                PowerCode(),
                PowerCode(),
                DivideCode(2),
                PushSymbolCode("XI"),
                PushCode(0.8),
                PushSymbolCode("bj"),
                DivideCode(2),
                ModuloCode(),
                PushSymbolCode("uB"),
                ModuloCode(),
                PushCode(0.73),
                PowerCode(),
                SubtractCode(2),
                AddCode(2),
                PushCode(0.57),
                MaxCode(2),
                AddCode(2))),
        Pair(-0.416,
            listOf(
                DeclareSymbolCode("VF"),
                DeclareSymbolCode("Wa"),
                DeclareSymbolCode("ui"),
                PushSymbolCode("Wa"),
                PushCode(0.6),
                SubtractCode(2),
                PushSymbolCode("ui"),
                PushCode(0.94),
                PushSymbolCode("VF"),
                PowerCode(),
                AddCode(2),
                PushCode(0.38),
                PushCode(0.52),
                PowerCode(),
                AddCode(2),
                MinCode(2))),
        Pair(-0.017000000000000043,
            listOf(
                DeclareSymbolCode("pd"),
                DeclareSymbolCode("qR"),
                PushSymbolCode("qR"),
                PushSymbolCode("pd"),
                SubtractCode(2))),
        Pair(0.41580000000000006,
            listOf(
                PushCode(0.54),
                PushCode(0.77),
                MultiplyCode(2))),
        Pair(1.8564887297690222,
            listOf(
                DeclareSymbolCode("gr"),
                PushCode(0.66),
                PushCode(0.09),
                DivideCode(2),
                PushSymbolCode("gr"),
                PowerCode(),
                PushCode(0.83),
                DivideCode(2))),
        Pair(-0.02178494623655898,
            listOf(
                DeclareSymbolCode("Iq"),
                DeclareSymbolCode("dH"),
                DeclareSymbolCode("rS"),
                DeclareSymbolCode("tT"),
                PushCode(0.17),
                PushSymbolCode("dH"),
                PushCode(0.97),
                AddCode(2),
                SubtractCode(2),
                PushCode(0.16),
                PushSymbolCode("Iq"),
                DivideCode(2),
                ModuloCode(),
                PushSymbolCode("tT"),
                PushCode(0.11),
                ModuloCode(),
                PushSymbolCode("rS"),
                MinCode(2),
                AddCode(2))),
        Pair(0.47741347101043546,
            listOf(
                DeclareSymbolCode("Io"),
                DeclareSymbolCode("eX"),
                PushCode(0.02),
                PushSymbolCode("eX"),
                PushSymbolCode("Io"),
                MaxCode(2),
                PowerCode())),
        Pair(0.175,
            listOf(
                DeclareSymbolCode("bM"),
                PushSymbolCode("bM"))),
        Pair(0.3174311596131636,
            listOf(
                DeclareSymbolCode("Lr"),
                DeclareSymbolCode("VC"),
                DeclareSymbolCode("eA"),
                DeclareSymbolCode("li"),
                PushCode(0.29),
                PushCode(0.24),
                MaxCode(2),
                PushCode(0.72),
                PushSymbolCode("eA"),
                PushCode(0.42),
                MinCode(2),
                ModuloCode(),
                PushSymbolCode("VC"),
                MultiplyCode(2),
                PowerCode(),
                PushCode(0.22),
                PushSymbolCode("Lr"),
                PushSymbolCode("li"),
                DivideCode(2),
                SubtractCode(2),
                ModuloCode())),
        Pair(0.019999999999999976,
            listOf(
                PushCode(0.42),
                PushCode(0.02),
                PushCode(0.67),
                PushCode(0.42),
                DivideCode(2),
                MinCode(2),
                ModuloCode(),
                PushCode(0.35),
                ModuloCode())),
        Pair(0.9100401463241561,
            listOf(
                DeclareSymbolCode("Bg"),
                DeclareSymbolCode("Fq"),
                DeclareSymbolCode("Gt"),
                DeclareSymbolCode("Km"),
                DeclareSymbolCode("Ln"),
                DeclareSymbolCode("Yp"),
                DeclareSymbolCode("ZH"),
                DeclareSymbolCode("ZK"),
                DeclareSymbolCode("cX"),
                DeclareSymbolCode("ck"),
                DeclareSymbolCode("eA"),
                DeclareSymbolCode("eV"),
                DeclareSymbolCode("gh"),
                DeclareSymbolCode("gu"),
                DeclareSymbolCode("gv"),
                DeclareSymbolCode("hA"),
                DeclareSymbolCode("lM"),
                DeclareSymbolCode("lw"),
                DeclareSymbolCode("nI"),
                DeclareSymbolCode("nw"),
                DeclareSymbolCode("sJ"),
                DeclareSymbolCode("tV"),
                DeclareSymbolCode("xk"),
                PushCode(0.33),
                PushCode(0.41),
                PushSymbolCode("tV"),
                MultiplyCode(2),
                PushCode(0.46),
                PushCode(0.38),
                PushCode(0.13),
                PushSymbolCode("eV"),
                PushCode(0.26),
                PushSymbolCode("nw"),
                MinCode(2),
                PowerCode(),
                MaxCode(2),
                PushCode(0.02),
                MaxCode(2),
                PushSymbolCode("lw"),
                PushSymbolCode("hA"),
                PushCode(0.14),
                ModuloCode(),
                AddCode(2),
                MaxCode(2),
                PushSymbolCode("Bg"),
                PowerCode(),
                MaxCode(2),
                PushCode(0.73),
                PushSymbolCode("xk"),
                MultiplyCode(2),
                PushCode(0.57),
                PushCode(0.54),
                PushCode(0.88),
                PowerCode(),
                SubtractCode(2),
                PushCode(0.19),
                AddCode(2),
                DivideCode(2),
                MinCode(2),
                PowerCode(),
                PushSymbolCode("gu"),
                PushSymbolCode("sJ"),
                PushCode(0.09),
                MaxCode(2),
                MultiplyCode(2),
                PushSymbolCode("nI"),
                PushSymbolCode("Fq"),
                PushCode(0.82),
                MaxCode(2),
                PushCode(0.74),
                MultiplyCode(2),
                PushSymbolCode("eA"),
                PushCode(0.74),
                PowerCode(),
                PushCode(0.06),
                DivideCode(2),
                PushSymbolCode("Ln"),
                ModuloCode(),
                AddCode(2),
                PushCode(0.72),
                ModuloCode(),
                PushSymbolCode("ZH"),
                MaxCode(2),
                PushSymbolCode("Yp"),
                ModuloCode(),
                AddCode(2),
                PushSymbolCode("Km"),
                AddCode(2),
                AddCode(2),
                PowerCode(),
                SubtractCode(2),
                PushCode(0.89),
                PushCode(0.46),
                PushSymbolCode("cX"),
                PushSymbolCode("lM"),
                AddCode(2),
                MultiplyCode(2),
                PushSymbolCode("gv"),
                DivideCode(2),
                PushCode(0.75),
                PowerCode(),
                PushCode(0.19),
                DivideCode(2),
                PushSymbolCode("gh"),
                PushSymbolCode("ck"),
                MinCode(2),
                PushCode(0.37),
                PushSymbolCode("Gt"),
                MinCode(2),
                DivideCode(2),
                DivideCode(2),
                AddCode(2),
                PushSymbolCode("ZK"),
                PushCode(0.91),
                MinCode(2),
                SubtractCode(2),
                MinCode(2),
                SubtractCode(2))),
        Pair(0.0026207117999999985,
            listOf(
                DeclareSymbolCode("Gt"),
                DeclareSymbolCode("KC"),
                DeclareSymbolCode("Oc"),
                DeclareSymbolCode("QJ"),
                DeclareSymbolCode("UP"),
                DeclareSymbolCode("Vh"),
                DeclareSymbolCode("Vr"),
                DeclareSymbolCode("Zc"),
                DeclareSymbolCode("aa"),
                DeclareSymbolCode("dh"),
                DeclareSymbolCode("gh"),
                DeclareSymbolCode("lW"),
                DeclareSymbolCode("mO"),
                DeclareSymbolCode("rT"),
                DeclareSymbolCode("sM"),
                DeclareSymbolCode("sO"),
                DeclareSymbolCode("wF"),
                DeclareSymbolCode("zU"),
                PushCode(0.96),
                PushSymbolCode("mO"),
                PushCode(0.49),
                DivideCode(2),
                MaxCode(2),
                PushCode(0.51),
                MultiplyCode(2),
                PushCode(0.1),
                ModuloCode(),
                PushCode(0.77),
                PushSymbolCode("aa"),
                PushSymbolCode("rT"),
                ModuloCode(),
                PushSymbolCode("UP"),
                DivideCode(2),
                MultiplyCode(2),
                PushCode(0.32),
                PushSymbolCode("dh"),
                PushSymbolCode("sM"),
                PushCode(0.55),
                PushCode(0.68),
                MinCode(2),
                MultiplyCode(2),
                PushSymbolCode("wF"),
                PushCode(0.24),
                DivideCode(2),
                PushCode(0.72),
                SubtractCode(2),
                AddCode(2),
                AddCode(2),
                PushSymbolCode("QJ"),
                MultiplyCode(2),
                PushSymbolCode("KC"),
                PowerCode(),
                PushSymbolCode("gh"),
                DivideCode(2),
                MaxCode(2),
                ModuloCode(),
                PushSymbolCode("Vh"),
                PowerCode(),
                PushSymbolCode("sO"),
                AddCode(2),
                PushSymbolCode("zU"),
                SubtractCode(2),
                PushSymbolCode("Vr"),
                MaxCode(2),
                PushSymbolCode("Gt"),
                MultiplyCode(2),
                MinCode(2),
                PushSymbolCode("lW"),
                PushCode(0.06),
                MultiplyCode(2),
                SubtractCode(2),
                PushSymbolCode("Zc"),
                MultiplyCode(2),
                PushSymbolCode("Oc"),
                MultiplyCode(2))),
        Pair(0.05929504717076972,
            listOf(
                DeclareSymbolCode("Ef"),
                DeclareSymbolCode("de"),
                DeclareSymbolCode("rI"),
                PushCode(0.82),
                PushCode(0.16),
                ModuloCode(),
                PushSymbolCode("rI"),
                PushSymbolCode("de"),
                PushCode(0.46),
                DivideCode(2),
                PowerCode(),
                PushCode(0.84),
                MinCode(2),
                PushCode(0.12),
                MultiplyCode(2),
                DivideCode(2),
                PushCode(0.33),
                PushSymbolCode("Ef"),
                MinCode(2),
                MultiplyCode(2))),
        Pair(15.132495357808002,
            listOf(
                PushCode(0.2),
                PushCode(0.06),
                PowerCode(),
                PushCode(0.06),
                PushCode(0.17),
                PushCode(0.36),
                PowerCode(),
                MinCode(2),
                DivideCode(2))),
        Pair(0.017000000000000015,
            listOf(
                DeclareSymbolCode("Xk"),
                DeclareSymbolCode("kb"),
                DeclareSymbolCode("lF"),
                DeclareSymbolCode("yG"),
                PushSymbolCode("yG"),
                PushSymbolCode("Xk"),
                MaxCode(2),
                PushSymbolCode("kb"),
                ModuloCode(),
                PushSymbolCode("lF"),
                SubtractCode(2))),
        Pair(0.16900790065408344,
            listOf(
                DeclareSymbolCode("Cc"),
                PushSymbolCode("Cc"),
                PushCode(0.99),
                PowerCode())),
        Pair(0.6828193832599118,
            listOf(
                DeclareSymbolCode("HS"),
                DeclareSymbolCode("un"),
                PushSymbolCode("HS"),
                PushSymbolCode("un"),
                DivideCode(2))),
        Pair(0.368,
            listOf(
                DeclareSymbolCode("BY"),
                DeclareSymbolCode("oj"),
                DeclareSymbolCode("uC"),
                PushSymbolCode("uC"),
                PushCode(0.5),
                PushSymbolCode("BY"),
                PushCode(0.98),
                PushSymbolCode("oj"),
                PowerCode(),
                MinCode(2),
                PushCode(0.56),
                DivideCode(2),
                MaxCode(2),
                DivideCode(2))),
        Pair(0.154,
            listOf(
                DeclareSymbolCode("BX"),
                PushSymbolCode("BX"))),
        Pair(0.142,
            listOf(
                DeclareSymbolCode("GG"),
                PushSymbolCode("GG"))),
        Pair(0.2,
            listOf(
                DeclareSymbolCode("JF"),
                DeclareSymbolCode("ds"),
                DeclareSymbolCode("oP"),
                DeclareSymbolCode("qP"),
                PushCode(0.2),
                PushSymbolCode("qP"),
                MaxCode(2),
                PushSymbolCode("JF"),
                PushSymbolCode("oP"),
                MaxCode(2),
                PushCode(0.95),
                PushSymbolCode("ds"),
                PowerCode(),
                AddCode(2),
                ModuloCode())),
        Pair(0.25510204081632654,
            listOf(
                PushCode(0.25),
                PushCode(0.98),
                DivideCode(2))),
        Pair(0.7278384960604609,
            listOf(
                DeclareSymbolCode("AL"),
                DeclareSymbolCode("Ck"),
                DeclareSymbolCode("Dn"),
                DeclareSymbolCode("EJ"),
                DeclareSymbolCode("FD"),
                DeclareSymbolCode("GX"),
                DeclareSymbolCode("Iz"),
                DeclareSymbolCode("LW"),
                DeclareSymbolCode("Mc"),
                DeclareSymbolCode("Nq"),
                DeclareSymbolCode("Tj"),
                DeclareSymbolCode("UN"),
                DeclareSymbolCode("Uh"),
                DeclareSymbolCode("XK"),
                DeclareSymbolCode("ar"),
                DeclareSymbolCode("dG"),
                DeclareSymbolCode("dg"),
                DeclareSymbolCode("gN"),
                DeclareSymbolCode("gU"),
                DeclareSymbolCode("ie"),
                DeclareSymbolCode("ir"),
                DeclareSymbolCode("is"),
                DeclareSymbolCode("jd"),
                DeclareSymbolCode("oF"),
                DeclareSymbolCode("oT"),
                DeclareSymbolCode("qV"),
                DeclareSymbolCode("sk"),
                DeclareSymbolCode("te"),
                DeclareSymbolCode("zl"),
                PushCode(0.69),
                PushCode(0.62),
                MinCode(2),
                PushSymbolCode("XK"),
                PushCode(0.21),
                SubtractCode(2),
                PushSymbolCode("EJ"),
                DivideCode(2),
                PushSymbolCode("dg"),
                PushSymbolCode("jd"),
                MaxCode(2),
                PushSymbolCode("UN"),
                PushSymbolCode("Iz"),
                AddCode(2),
                PushCode(0.91),
                PushSymbolCode("oT"),
                MultiplyCode(2),
                SubtractCode(2),
                ModuloCode(),
                PushSymbolCode("Tj"),
                PowerCode(),
                SubtractCode(2),
                ModuloCode(),
                PushCode(0.11),
                PushCode(0.7),
                PushSymbolCode("FD"),
                MultiplyCode(2),
                PushSymbolCode("ir"),
                ModuloCode(),
                AddCode(2),
                PushSymbolCode("GX"),
                PushCode(0.09),
                MultiplyCode(2),
                PushCode(0.44),
                PushSymbolCode("Nq"),
                ModuloCode(),
                PushSymbolCode("dG"),
                DivideCode(2),
                PushCode(0.61),
                PushSymbolCode("gN"),
                PowerCode(),
                PushCode(0.34),
                PowerCode(),
                MinCode(2),
                PowerCode(),
                PushCode(0.74),
                PushSymbolCode("ar"),
                PushSymbolCode("ie"),
                PushSymbolCode("Ck"),
                MinCode(2),
                ModuloCode(),
                PushCode(0.7),
                MaxCode(2),
                ModuloCode(),
                PushSymbolCode("is"),
                PushCode(0.68),
                ModuloCode(),
                PushCode(0.27),
                PushCode(0.2),
                PushSymbolCode("Mc"),
                PushCode(0.66),
                AddCode(2),
                PushSymbolCode("AL"),
                PushCode(0.52),
                PushCode(0.12),
                MultiplyCode(2),
                PushCode(0.61),
                DivideCode(2),
                MaxCode(2),
                PowerCode(),
                PushCode(0.24),
                AddCode(2),
                PushSymbolCode("qV"),
                AddCode(2),
                PushCode(0.29),
                AddCode(2),
                PushCode(0.72),
                PushCode(0.08),
                MultiplyCode(2),
                PushSymbolCode("LW"),
                SubtractCode(2),
                PushSymbolCode("te"),
                AddCode(2),
                MultiplyCode(2),
                SubtractCode(2),
                MultiplyCode(2),
                PushSymbolCode("Uh"),
                MaxCode(2),
                PushCode(0.63),
                MaxCode(2),
                PushSymbolCode("sk"),
                MultiplyCode(2),
                DivideCode(2),
                PushSymbolCode("gU"),
                ModuloCode(),
                PushSymbolCode("Dn"),
                MultiplyCode(2),
                PushSymbolCode("zl"),
                MultiplyCode(2),
                SubtractCode(2),
                PushCode(0.15),
                PushCode(0.97),
                MinCode(2),
                PushSymbolCode("oF"),
                PushCode(0.47),
                MaxCode(2),
                PushCode(0.7),
                SubtractCode(2),
                SubtractCode(2),
                MultiplyCode(2),
                SubtractCode(2),
                PushCode(0.52),
                PowerCode(),
                AddCode(2),
                PowerCode())),
        Pair(0.8313891138255503,
            listOf(
                DeclareSymbolCode("Ce"),
                DeclareSymbolCode("Jc"),
                DeclareSymbolCode("Ru"),
                DeclareSymbolCode("WY"),
                DeclareSymbolCode("aE"),
                DeclareSymbolCode("ge"),
                DeclareSymbolCode("oF"),
                DeclareSymbolCode("oR"),
                DeclareSymbolCode("tW"),
                DeclareSymbolCode("xE"),
                PushCode(0.43),
                PushCode(0.07),
                PushSymbolCode("xE"),
                DivideCode(2),
                PushCode(0.37),
                PushCode(0.73),
                MinCode(2),
                PushCode(0.76),
                PushSymbolCode("Ce"),
                MaxCode(2),
                AddCode(2),
                MultiplyCode(2),
                PushCode(0.58),
                PushSymbolCode("Jc"),
                PushSymbolCode("ge"),
                PushCode(0.06),
                MultiplyCode(2),
                PushCode(0.23),
                PushCode(0.52),
                MultiplyCode(2),
                MultiplyCode(2),
                SubtractCode(2),
                PushSymbolCode("aE"),
                MaxCode(2),
                PushCode(0.48),
                MultiplyCode(2),
                PushCode(0.73),
                PushSymbolCode("Ru"),
                ModuloCode(),
                PushSymbolCode("oF"),
                PushCode(0.38),
                AddCode(2),
                PushSymbolCode("tW"),
                SubtractCode(2),
                PowerCode(),
                DivideCode(2),
                ModuloCode(),
                PushCode(0.1),
                PushCode(0.57),
                MaxCode(2),
                PowerCode(),
                DivideCode(2),
                PushCode(0.36),
                PushCode(0.83),
                PushSymbolCode("oR"),
                PushCode(0.86),
                PushCode(0.58),
                AddCode(2),
                DivideCode(2),
                PushCode(0.02),
                MultiplyCode(2),
                AddCode(2),
                MinCode(2),
                SubtractCode(2),
                MultiplyCode(2),
                PushSymbolCode("WY"),
                PushCode(0.28),
                ModuloCode(),
                AddCode(2))),
        Pair(0.66,
            listOf(
                PushCode(0.66))),
        Pair(1.15564,
            listOf(
                DeclareSymbolCode("DF"),
                DeclareSymbolCode("UZ"),
                DeclareSymbolCode("mS"),
                DeclareSymbolCode("xL"),
                DeclareSymbolCode("xm"),
                PushSymbolCode("xm"),
                PushCode(0.47),
                PushSymbolCode("mS"),
                PowerCode(),
                PushCode(0.05),
                PushSymbolCode("UZ"),
                PushSymbolCode("DF"),
                PushCode(0.27),
                PushCode(0.21),
                AddCode(2),
                DivideCode(2),
                MaxCode(2),
                PushCode(0.07),
                MultiplyCode(2),
                PushCode(0.58),
                PowerCode(),
                SubtractCode(2),
                MaxCode(2),
                ModuloCode(),
                PushCode(0.31),
                AddCode(2),
                PushCode(0.34),
                PushSymbolCode("xL"),
                MultiplyCode(2),
                AddCode(2),
                PushCode(0.55),
                AddCode(2))),
        Pair(6.463739047296521E-7,
            listOf(
                DeclareSymbolCode("DJ"),
                DeclareSymbolCode("VK"),
                DeclareSymbolCode("gv"),
                DeclareSymbolCode("vF"),
                PushSymbolCode("DJ"),
                PushSymbolCode("gv"),
                PushSymbolCode("vF"),
                DivideCode(2),
                PushSymbolCode("VK"),
                DivideCode(2),
                PowerCode())),
        Pair(0.7666965639608946,
            listOf(
                DeclareSymbolCode("Qh"),
                DeclareSymbolCode("Yg"),
                PushSymbolCode("Qh"),
                PushCode(0.82),
                PowerCode(),
                PushSymbolCode("Yg"),
                PowerCode())),
        Pair(0.13299999999999998,
            listOf(
                DeclareSymbolCode("Mq"),
                PushCode(0.7),
                PushSymbolCode("Mq"),
                MultiplyCode(2))),
        Pair(1.8353269571788011,
            listOf(
                DeclareSymbolCode("HJ"),
                DeclareSymbolCode("Ij"),
                PushCode(0.9),
                PushSymbolCode("Ij"),
                PushCode(0.86),
                PushCode(0.54),
                DivideCode(2),
                PushCode(0.86),
                PushCode(0.32),
                MaxCode(2),
                MultiplyCode(2),
                PushCode(0.05),
                MaxCode(2),
                MaxCode(2),
                PowerCode(),
                PushCode(0.81),
                PushCode(0.57),
                MaxCode(2),
                PushSymbolCode("HJ"),
                PowerCode(),
                AddCode(2))),
        Pair(0.76,
            listOf(
                PushCode(0.76))),
        Pair(0.36,
            listOf(
                PushCode(0.36))),
        Pair(0.17,
            listOf(
                PushCode(0.17))),
        Pair(0.34571428571428564,
            listOf(
                DeclareSymbolCode("Oz"),
                DeclareSymbolCode("Rj"),
                DeclareSymbolCode("Xk"),
                DeclareSymbolCode("YG"),
                DeclareSymbolCode("ZT"),
                DeclareSymbolCode("iY"),
                DeclareSymbolCode("nC"),
                DeclareSymbolCode("pl"),
                DeclareSymbolCode("rd"),
                PushSymbolCode("nC"),
                PushCode(0.35),
                DivideCode(2),
                PushSymbolCode("Oz"),
                PushCode(0.68),
                PushSymbolCode("rd"),
                PushSymbolCode("ZT"),
                PushCode(0.47),
                MultiplyCode(2),
                ModuloCode(),
                PushCode(0.81),
                PushCode(0.27),
                PushSymbolCode("Rj"),
                MaxCode(2),
                PushSymbolCode("Xk"),
                PushCode(0.8),
                DivideCode(2),
                PushSymbolCode("iY"),
                ModuloCode(),
                AddCode(2),
                ModuloCode(),
                SubtractCode(2),
                PushSymbolCode("pl"),
                AddCode(2),
                MaxCode(2),
                ModuloCode(),
                PushCode(0.6),
                ModuloCode(),
                PushSymbolCode("YG"),
                MinCode(2),
                SubtractCode(2))),
        Pair(1.6046246246246247,
            listOf(
                DeclareSymbolCode("Gr"),
                DeclareSymbolCode("Jl"),
                DeclareSymbolCode("Wo"),
                DeclareSymbolCode("fx"),
                DeclareSymbolCode("ii"),
                DeclareSymbolCode("li"),
                DeclareSymbolCode("rj"),
                DeclareSymbolCode("rz"),
                DeclareSymbolCode("uN"),
                DeclareSymbolCode("vL"),
                PushSymbolCode("Jl"),
                PushCode(0.68),
                MinCode(2),
                PushSymbolCode("fx"),
                PushSymbolCode("Gr"),
                PushSymbolCode("ii"),
                DivideCode(2),
                PushSymbolCode("li"),
                SubtractCode(2),
                MinCode(2),
                PushSymbolCode("uN"),
                MultiplyCode(2),
                PushSymbolCode("rz"),
                PushSymbolCode("Wo"),
                AddCode(2),
                DivideCode(2),
                DivideCode(2),
                PushSymbolCode("vL"),
                PushSymbolCode("rj"),
                MaxCode(2),
                SubtractCode(2))),
        Pair(0.168,
            listOf(
                DeclareSymbolCode("dD"),
                PushSymbolCode("dD"))),
        Pair(0.5933999999999999,
            listOf(
                PushCode(0.69),
                PushCode(0.78),
                MinCode(2),
                PushCode(0.86),
                MultiplyCode(2))))
}